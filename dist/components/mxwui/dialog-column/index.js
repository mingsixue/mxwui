import{COLOR}from"../utils/common";Component({properties:{visible:{type:Boolean,value:!1},options:{type:Array,value:[]},current:{type:Number,value:0,observer(e){var e=this.data.options[e],t=e&&e.children||[];this.setData({children:t,currentItem:e})}},subCurrent:{type:Number,value:-1},textColor:{type:String,value:COLOR.TEXT_COLOR},selectColor:{type:String,value:COLOR.THEME_COLOR},confirmText:{type:String,value:"确定"},confirmColor:{type:String,value:COLOR.THEME_COLOR},cancelText:{type:String,value:"取消"},cancelColor:{type:String,value:COLOR.PLACEHOLDER_COLOR},showBack:{type:Boolean,value:!0},backIcon:{type:Object,value:{}},showClose:{type:Boolean,value:!0},closeIcon:{type:Object,value:{}},title:{type:String,value:""},titleColor:{type:String,value:COLOR.TEXT_COLOR},zIndex:{type:Number,value:1},isCloseMask:{type:Boolean,value:!0},height:{type:String,value:"75vh"},leftWidth:{type:Number,value:240},PLACEHOLDER_COLOR:{type:String,value:COLOR.PLACEHOLDER_COLOR}},attached(){var e=this.data.options[this.data.current],t=e&&e.children||[];this.setData({children:t,currentItem:e})},methods:{handleItem(e){var{item:e={},idx:t}=e.currentTarget.dataset;let a=this.data.current;a=a==t?-1:t,this.setData({current:a,currentItem:e,children:e.children,subCurrent:-1})},handleSubItem(e){var{item:e={},idx:t}=e.currentTarget.dataset;let a=this.data.subCurrent;a=a==t?-1:t,this.setData({subCurrentItem:e,subCurrent:a})},dealValue(e,t){this.setData({visible:!1});var{current:a,subCurrent:r,currentItem:l={},subCurrentItem:i={}}=this.data,a={current:a,subCurrent:r};l.value&&(a.value=l.value,a.item=l),i.value&&(a.subValue=i.value,a.subItem=i),this.triggerEvent(e,{type:t,...a})},handleMaskClose(){this.setData({visible:!1}),this.triggerEvent("dialog_column_close",{type:"maskClose"})},handleBack(){this.dealValue("dialog_column_back","back")},handleClose(){this.setData({visible:!1}),this.triggerEvent("dialog_column_close",{type:"close"})},handleCancel(){this.setData({visible:!1}),this.triggerEvent("dialog_column_close",{type:"cancel"})},handleConfirm(){this.dealValue("dialog_column_back","confirm")}}});