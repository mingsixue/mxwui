((t,e)=>{"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).lunisolar=e()})(this,function(){var x=function(t,e){return(x=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))(t,e)};function t(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}x(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function e(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;0<=c;c--)(a=t[c])&&(i=(o<3?a(i):3<o?a(e,n,i):a(e,n))||i);3<o&&i&&Object.defineProperty(e,n,i)}function s(t,e,n){if(n||2===arguments.length)for(var r,a=0,o=e.length;a<o;a++)!r&&a in e||((r=r||Array.prototype.slice.call(e,0,a))[a]=e[a]);return t.concat(r||Array.prototype.slice.call(e))}function l(t){return t?(t=t.trim(),h[t]||(t||"").toLowerCase().replace(/s$/,"")):""}function d(t){var e=W[t-v];return O("".concat(t,"/").concat(Math.floor(e/100),"/").concat(e%100))}function k(t){return[(t=M[t-v])>>13,1==(t>>12&1)]}function B(t,e){var n,r=t,a=b.locales[null!=e?e:b.lang];if("string"==typeof r.year){for(var o="",i=0;i<r.year.length;i++)o+=0<=(n="零"===r.year[i]||"〇"===r.year[i]?0:a.numerals.indexOf(r.year[i]))?n:"";r.year=Number(o)}"string"==typeof r.month&&((e=r.month)[0]===a.leap&&(r.isLeapMonth=!0,e=r.month.slice(1)),-1===(c=a.lunarMonths.indexOf(e))&&(c=a.lunarMonthsAlias.indexOf(e)),r.month=r.isLeapMonth?c+100+1:c+1),"string"==typeof r.day&&(r.day=a.lunarDays.indexOf(r.day)+1),"string"==typeof r.hour&&(r.hour=a.branchs.indexOf(r.hour));var e=new Date,c=t.year?Number(t.year):e.getFullYear(),s=Number(t.month),e=Number(t.day),u=t.hour?Number(t.hour):0,l=null!=(t=t.isLeapMonth)&&t;if(100<s&&(s-=100,l=!0),c<v||_<c)throw new Error("Invalid lunar year: out of range");if(s<1)throw new Error("Invalid lunar month");var t=d(c),f=(p=k(c))[0],h=p[1];if(l&&f!==s)throw new Error("Invalid lunar leap month: no this leap month");for(var g=M[c-v],p=l?h:g>>s-1&1,y=0,m=0;m<s&&(y+=g>>m&1?30:29,m!==s-1||l);m++)m===f-1&&(y+=h?30:29);return y-=(p?30:29)-e+1,p=new Date(t.valueOf()+24*y*60*60*1e3),e=p.getFullYear(),t=p.getMonth()+1,p=p.getDate(),O("".concat(e,"/").concat(t,"/").concat(p," ").concat(2*u,":00"))}function F(t,e,n,r){void 0===r&&(r=!1);var n=n.getDate(),a=g(t,"Month",r),a=(e=e/2>>0)<a||0===a&&11==e||n>g(t,"Date",r)&&!(n-1===g(t,"Date",r)&&23<=g(t,"Hours",r))?-1:0;return((12*(g(t,"FullYear",r)-$[0])+g(t,"Month",r)-$[1]+1)%60+a+60)%60}function r(t,e,n,r){if("number"==typeof t)t%=X[e][0];else if("string"==typeof t){r=r.locales[n][X[e][1]].indexOf(t);if(-1===r)throw new Error("Invalid ".concat(e," value"));t=r}return t}function g(t,e,n){return void 0===n&&(n=!1),e=e.slice(0,1).toUpperCase()+e.slice(1),n?t["getUTC".concat(e)]():t["get".concat(e)]()}function f(t,e){t=(n=[O(t),O(e)])[0];var n=12*((e=n[1]).getFullYear()-t.getFullYear())+(e.getMonth()-t.getMonth()),r=new Date(t).setMonth(t.getMonth()+n),a=r.valueOf()>e.valueOf(),t=new Date(t).setMonth(t.getMonth()+n+(a?-1:1));return n+(e.valueOf()-r.valueOf())/(a?r-t:t-r)||0}function I(t,e,n){if(e<t)return-I(e,t);for(var r,a,o=(i=[t.lunar,e.lunar])[0],i=i[1],c=[o.year,i.year],s=c[0],u=c[1],l=(c=[o.month,i.month])[0],f=c[1],h=s,g=0;h<=u;){var p=[1,12],y=p[0],p=p[1];g+=(a=r=void 0,r=!1,100<(y=(y=y=h===s?l:y)||1)&&(y-=100,r=!0),100<(p=(p=p=h===u?f:p)||12)&&(p-=100,r=!0),a=M[h-v]>>13,p-y+1+((r=y<=a&&a<=p||r)?1:0)),h++}return n?(0<g?g+=m(t,!0)+m(e,!1)-2:(i=o.isBigMonth?30:29,g=(e.valueOf()-t.valueOf())/(864e5*i)),g):g-1}function m(t,e){var n=t.lunar.isBigMonth?30:29,t=t.lunar.day;return(e=void 0===e?!1:e)?1-t/n:t/n}function E(t,e){var n=0<(o=t.lunar.leapMonth)?13:12,r=!1,a=t.lunar.month,o=(100<a&&(a-=100,r=!0),0<o&&(o<a||a===o&&r)&&a++,m(t,e=void 0===e?!1:e));return e?1-(a-o)/n:(a+o-1)/n}var h={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",q:"quarter",y:"year",lh:"lunarhour",ld:"lunarday",lM:"lunarmonth",ly:"lunaryear",ch:"char8hour",cd:"char8day",cM:"char8month",cy:"char8year"},z=new Set(["lunarhour","lunarday","lunarmonth","lunaryear"]),Z="Invalid Date",G=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,R=/\[([^\]]+)]|cZ|t|T|lYn|lMn|lDn|lHn|lY|lM|lL|lD|lH|cYsn|cYs|cYbn|cYb|cYn|cY|cMsn|cMs|cMbn|cMb|cMn|cM|cDsn|cDs|cDbn|cDb|cDn|cD|cHsn|cHs|cHbn|cHb|cHn|cH|dRr|dR|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,V=[[9],[5,9,7],[0,2,4],[1],[4,1,9],[2,6,4],[3,5],[5,3,1],[6,8,4],[7],[4,7,3],[8,0]],$=[2018,12,7],a=[2022,3,12],q={name:"zh",leap:"闰",lunarYearUnit:"年",lunarHourUnit:"时",bigMonth:"大",smallMonth:"小",weekdays:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],weekdaysShort:["周日","周一","周二","周三","周四","周五","周六"],weekdaysMin:["日","一","二","三","四","五","六"],months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),lunarMonths:"正月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),lunarMonthsAlias:"正月_二月_三月_四月_五月_六月_七月_八月_九月_十月_冬月_腊月".split("_"),lunarDays:"初一_初二_初三_初四_初五_初六_初七_初八_初九_初十_十一_十二_十三_十四_十五_十六_十七_十八_十九_二十_廿一_廿二_廿三_廿四_廿五_廿六_廿七_廿八_廿九_三十".split("_"),numerals:"〇一二三四五六七八九十".split(""),constellationName:"白羊座_金牛座_双子座_巨蟹座_狮子座_处女座_天秤座_天蝎座_射手座_摩羯座_水瓶座_双魚座".split("_"),solarTerm:"小寒_大寒_立春_雨水_惊蛰_春分_清明_谷雨_立夏_小满_芒种_夏至_小暑_大暑_立秋_处暑_白露_秋分_寒露_霜降_立冬_小雪_大雪_冬至".split("_"),seasonName:"春夏秋冬".split(""),stems:["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],branchs:["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],stemBranchSeparator:"",chineseZodiac:["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],fiveElements:["木","火","土","金","水"],eightTrigram:"坤震坎兌艮離巽乾".split(""),moonPhase:{"朔":"朔","望":"望","弦":"弦","晦":"晦"},directions:["","北","西南","東","東南","中","西北","西","東北","南"],formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah點mm分",LLLL:"YYYY年M月D日ddddAh點mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiem:function(t,e){t=100*t+e;return t<600?"凌晨":t<900?"早上":t<1100?"上午":t<1300?"中午":t<1800?"下午":"晚上"}},b={isUTC:!1,offset:0,changeAgeTerm:2,locales:{zh:q},lang:"zh"},v=1901,_=2100,M=[1874,3749,43818,1611,2715,39590,1386,2905,19370,1874,52645,2853,2635,47691,685,1387,17845,3497,65170,3730,3365,44333,2646,694,39637,1748,3753,20298,3730,50854,1323,2647,47446,2906,1748,30561,1865,64275,2707,1323,54555,2733,1386,40357,2980,2889,19787,2709,60077,1334,2733,47818,1458,3493,32418,3402,66965,2711,1366,50549,2773,1746,34645,3749,1610,26191,2715,60122,1386,2921,43954,2898,2853,35627,2635,68267,685,1389,54697,3497,3474,36501,3365,85581,2646,694,49909,1749,3753,44882,3730,3366,25902,2647,68310,858,1749,43881,1865,1683,35483,1323,2651,19118,1386,60885,2980,2889,44371,2709,1325,34141,2741,76714,1490,3493,56970,3402,3221,35486,1366,2741,19162,1746,51045,1829,1611,42583,3243,1370,25966,2921,94034,2898,2853,56587,2635,1195,41659,1453,2922,19882,3474,61093,3365,2645,47693,1206,1461,30418,3785,69522,3730,3366,54550,2647,1366,37733,1877,1865,26443,1683,60075,1323,2651,43706,1386,2917,35754,2890,69013,2709,1325,50541,2741,1450,34261,3493,3402,28237,3222,60622,1366,2741,47826,1746,3749,34602,1675,67223,1195,1371,54614,2922,1874,35733,2885,2699,19023,1195],W=[219,208,129,216,204,125,213,202,122,210,130,218,206,126,214,203,123,211,201,220,208,128,216,205,124,213,202,123,210,130,217,206,126,214,204,124,211,131,219,208,127,215,205,125,213,202,122,210,129,217,206,127,214,203,124,212,131,218,208,128,215,205,125,213,202,121,209,130,217,206,127,215,203,123,211,131,218,207,128,216,205,125,213,202,220,209,129,217,206,127,215,204,123,210,131,219,207,128,216,205,124,212,201,122,209,129,218,207,126,214,203,123,210,131,219,208,128,216,205,125,212,201,122,210,129,217,206,126,213,203,123,211,131,219,208,128,215,204,124,212,201,122,210,130,217,206,126,214,202,123,211,201,219,208,128,215,204,124,212,202,121,209,129,217,205,126,214,203,123,211,131,219,207,127,215,205,124,212,202,122,209,129,217,206,126,214,203,124,210,130,218,207,127,215,205,125,212,201,121,209],J=[4,19,3,18,4,19,4,19,4,20,4,20,6,22,6,22,6,22,7,22,6,21,6,21],K=[0x6aaaa6aa9a5a,0xaaaaaabaaa6a,0xaaabbabbafaa,99670716471979,0xaaaaaaaaaa6a,0x6aaaa6aa9a56,0xaaaaaaaa9a5a,0xaaabaabaaeaa,95203950484138,99671807007318,0x6aaaaaaa9a5a,99671806990934,0xaaabaabaaa6a,93829556755114,99670716471894,93829556689578,95203950484054,0x6aa6a6aa9a56,93829288253866,95203950484053,0x6aa6a6a65a56,93829288252842,93824993285482,93829556755029,93824992236906,93829556689493,0x6aa6a6aa9a5a,93824992232810,93829288254037,99601996995158,0x6aa6a6a69a5a,93824925123930,93829288253781,99671790213718,23456180946266,93824993285461,95203946289749,93824993285397,93824992236821,23439001077082,93824992232725,23439000814938,93824925123861,23439000798550,93824925123845,23437910279510,23456180946181,5845724235094,23439000814853,5777004758358,23439000798469,1378954052950,23437910279425,1378954052949,93824992236885,5845724235009,4564518229,4296017237,5777004758273,23438984021253,1378954052865,23437910279429,1048661,1378954052864,85,4564518144,21,4296082688],Q=[0,1,2,3,0,4,2,3,0,4,2,3,5,6,7,8,9,10,7,8,11,10,12,8,11,0,1,13,14,0,1,13,14,0,4,13,14,0,4,13,14,0,4,15,16,17,6,18,19,20,6,18,19,11,0,21,19,14,0,22,23,14,0,22,23,14,0,24,23,14,0,24,25,14,26,27,28,29,30,27,28,16,20,31,32,19,33,34,35,36,14,34,37,23,14,34,38,23,14,34,38,23,14,34,38,28,14,39,40,28,29,41,42,28,16,43,44,32,36,45,46,35,36,47,46,38,23,47,46,38,23,47,46,38,28,47,46,38,28,47,48,40,28,49,50,42,28,51,52,44,35,53,52,44,54,53,55,46,54,56,55,46,38,56,55,46,38,57,55,48,38,57,58,48,42,57,58,59,42,57,60,61,44,62,63,52,44,64,63,55,46,64,65,55,46,66,67,55,46,38],O=function(t,e){if(void 0===e&&(e=!1),void 0===t)return new Date;if(null===t)return new Date(NaN);if("object"==typeof t&&!(t instanceof Date)&&void 0!==t.toDate){var n=t.toDate();if(n instanceof Date)return n}if(t instanceof Date)return new Date(t.valueOf());if("string"==typeof t&&!/Z$/i.test(t)){var r,a,n=t.match(G);if(n)return r=n[2]-1||0,a=(n[7]||"0").substring(0,3),e?new Date(Date.UTC(n[1],r,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)):new Date(n[1],r,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)}return new Date(t)},X={stem:[10,"stems"],branch:[12,"branchs"],trigram8:[8,"eightTrigram"],element5:[5,"fiveElements"]};function tt(t,e){return Math.round((e.valueOf()-t.valueOf())/864e5)}y.fromLunar=function(t,e){return new y(B(t,null==e?void 0:e.lang),e)},Object.defineProperty(y.prototype,"isLeapMonth",{get:function(){return 100<this.month},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isBigMonth",{get:function(){var t=M[this.year-v];return this.isLeapMonth?1==(t>>12&1):1==(t>>this.month-1&1)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isLastDayOfMonth",{get:function(){return!(!this.isBigMonth||30!==this.day)||!this.isBigMonth&&29===this.day},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"lunarNewYearDay",{get:function(){return d(this.year)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"lastDayOfYear",{get:function(){var t=d(this.year+1);return new Date(t.valueOf()-864e5)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"phaseOfTheMoon",{get:function(){return t=this,e=b.locales[this._config.lang],1===(n=t.day)?e.moonPhase.朔:[7,8,22,23].includes(n)?e.moonPhase.弦:15===n?e.moonPhase.望:t.isLastDayOfMonth?e.moonPhase.晦:"";var t,e,n},enumerable:!1,configurable:!0}),y.prototype.toDate=function(){return new Date(this._date.valueOf())},y.prototype.getYearName=function(){for(var t="",e=this.year,n=b.locales[this._config.lang].numerals;e;)t=n[e%10]+t,e=Math.floor(e/10);return t},y.prototype.getMonthName=function(){var t=b.locales[this._config.lang].lunarMonths,e=b.locales[this._config.lang].leap;return(this.isLeapMonth?e:"")+t[this.month%100-1]},y.prototype.getDayName=function(){return b.locales[this._config.lang].lunarDays[this.day-1]},y.prototype.getHourName=function(){return b.locales[this._config.lang].branchs[this.hour]},y.prototype.toString=function(){var t=b.locales[this._config.lang];return"".concat(this.getYearName()).concat(t.lunarYearUnit).concat(this.getMonthName()).concat(this.getDayName()).concat(this.getHourName()).concat(t.lunarHourUnit)},y.prototype.valueOf=function(){return this._date.valueOf()},y.getLunarNewYearDay=d;var et=y,i=(Object.defineProperty(p.prototype,"name",{get:function(){return String(b.locales[this._config.lang].solarTerm[this.value])},enumerable:!1,configurable:!0}),p.getNames=function(t){return t=t||b.lang,s([],b.locales[t].solarTerm,!0)},p.getYearTermDayList=function(t){for(var e=[],n=K[Q[t-v]].toString(2).padStart(48,"0");e.length<24;){var r=parseInt(n.slice(n.length-2),2);e.push(r+J[e.length]),n=n.slice(0,n.length-2)}return e},p.getMonthTerms=function(t,e){var t=K[Q[t-v]].toString(2).padStart(48,"0"),n=4*(e-1),t=parseInt(t.slice(t.length-n-4,t.length-n),2);return[(3&t)+J[2*(e-1)],(t>>2&3)+J[2*(e-1)+1]]},p.findDate=function(t,e,n){n=(n&&n.lang?n:b).lang;return[t,1+((e="string"==typeof(e=e instanceof p?e.value:e)?b.locales[n].solarTerm.indexOf(e):e%24)>>1),p.getYearTermDayList(t)[e]]},p.findNode=function(t,e){var n={lang:b.lang,returnValue:!1,nodeFlag:0,isUTC:!1},e=e?Object.assign({},n,e):n,n=e.returnValue,r=e.nodeFlag;if(2<r)throw new Error("Invalid nodeFlag");var a={lang:e.lang||b.lang},o=g(t,"FullYear",e.isUTC),i=g(t,"Month",e.isUTC),c=g(t,"Date",e.isUTC),t=g(t,"Hours",e.isUTC),e=(2*i+24)%24,s=p.getMonthTerms(o,i+1),u=s[0],s=s[1],l=!1,f=!1,h=!1,l=((l=c<u&&!(c===u-1&&23<=t)||c<s&&!(c===s-1&&23<=t)&&(f=!0,1===r)?!0:l)?(i-1<0?(o--,i=11):i--,e=(2*i+24)%24,u=(c=p.getMonthTerms(o,i+1))[0],s=c[1],0<r&&(h=!0)):1!==r&&(2!==r||f)||(h=!0),t=h?s:u,e=h?(e+1)%24:e,O("".concat(o,"-").concat(i+1,"-").concat(t)));return n?[e,l]:[new p(e,a),l]},p.prototype.valueOf=function(){return this.value},p.prototype.toString=function(){return this.name},p),n=(u.getNames=function(t){return t=t||b.lang,s([],b.locales[t].fiveElements,!0)},u.create=function(t,e){var n;return t instanceof u?t:(n=(null==e?void 0:e.lang)||b.lang,t=r(t,"element5",n,b),n="".concat(t,":").concat(n),u.instances.has(n)?u.instances.get(n):(t=new u(t,e),u.instances.set(n,t),t))},Object.defineProperty(u.prototype,"name",{get:function(){return-1===this.value?"":b.locales[this._config.lang].fiveElements[this.value]},enumerable:!1,configurable:!0}),u.prototype.generating=function(){var t=(this.value+1)%5;return u.create(t,this._config)},u.prototype.overcoming=function(){var t=(this.value+2)%5;return u.create(t,this._config)},u.prototype.weakening=function(){var t=(this.value+4)%5;return u.create(t,this._config)},u.prototype.counteracting=function(){var t=(this.value+3)%5;return u.create(t,this._config)},u.prototype.toString=function(){return-1===this.value?"Invalid five-element value":this.name},u.prototype.valueOf=function(){return this.value},u.instances=new Map,u),o=(c.getNames=function(t){return t=t||b.lang,s([],b.locales[t].eightTrigram,!0)},c.create=function(t,e){var n=(null==e?void 0:e.lang)||b.lang,n=(t=r(t,"trigram8",n,b),"".concat(t,":").concat(n));return c.instances.has(n)?c.instances.get(n):(t=new c(t,e),c.instances.set(n,t),t)},Object.defineProperty(c.prototype,"name",{get:function(){return b.locales[this._config.lang].eightTrigram[this.value]},enumerable:!1,configurable:!0}),c.prototype.toString=function(){return this.name},c.prototype.valueOf=function(){return this.value},c.instances=new Map,c);function c(t,e){this.value=-1,this._config={lang:b.lang},e&&(this._config=Object.assign({},this._config,e)),this.value=t%8}function u(t,e){if(this.value=-1,this._config={lang:b.lang},t instanceof u)return t;e&&(this._config=Object.assign({},this._config,e)),this.value=r(t,"element5",this._config.lang,b)}function p(t,e){if(this.value=-1,this._config={lang:b.lang,isUTC:!1},e&&(this._config=Object.assign({},this._config,e)),t instanceof p)return t;if("number"==typeof t)this.value=t%24;else if("string"==typeof t){e=b.locales[this._config.lang].solarTerm.indexOf(t);if(-1===e)throw new Error("Invalid term value");this.value=e}}function y(t,e){this._config={lang:b.lang,isUTC:!1},e&&(this._config=Object.assign({},this._config,e));var e=O(t),t=(this._date=e,this._config.isUTC),n=g(e,"FullYear",t),r=g(e,"Month",t),a=g(e,"Hours",t),e=g(e,"Date",t),t=O("".concat(n,"/").concat(r+1,"/").concat(e+(23===a?1:0)));if(n<v||_<n||n===v&&r<1||n===v&&1===r&&t.getDate()<19)throw new Error("Invalid lunar year: out of range");e=tt(d(n),t),e<0&&(e=tt(d(--n),t)),this.year=n,r=k(n),t=r[0],r=r[1],n=((t,e,n)=>{var r=M[t-v],a=n[0],o=n[1],i=1;e+=1;for(var c=!1;29<e;){if(e-=r>>i-1&1?30:29,i===a&&0<e){var s=o?30:29;if(!(s<e)){c=!0;break}e-=s}i++}return c&&(i+=100),0===e&&(e=30,i--),[i,e]})(n,e,[this.leapMonth=t,this.leapMonthIsBig=r]);this.month=n[0],this.day=n[1],this.hour=(a+1)%24>>1}function S(a,o){return void 0===o&&(o=!1),function(t,e,n){var r=void 0===n.value?n.get:n.value;n[void 0===n.value?"get":"value"]=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 0<e.length&&o&&(t=JSON.stringify(e),a+=t),this.cache.has(a)?this.cache.get(a):(t=r.call.apply(r,s([this],e,!1)),this.cache.set(a,t),t)}}}function nt(){this.cache=new Map}t(L,at=nt),L.getNames=function(t){return t=t||b.lang,s([],b.locales[t].branchs,!0)},L.create=function(t,e){var n;return t instanceof L?t:(n=(null==e?void 0:e.lang)||b.lang,t=r(t,"branch",n,b),n="".concat(t,":").concat(n),L.instances.has(n)?L.instances.get(n):(t=new L(t,e),L.instances.set(n,t),t))},Object.defineProperty(L.prototype,"name",{get:function(){return b.locales[this._config.lang].branchs[this.value]},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"hiddenStems",{get:function(){return V[this.value].map(function(t){return new T(t)})},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"e5",{get:function(){var t=Math.floor((this.value+10)/3)%4;return(this.value+10)%3==2?n.create(2,this._config):n.create(t<2?t:1+t,this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"triad",{get:function(){return[L.create((this.value+4)%12,this._config),L.create((this.value+8)%12,this._config)]},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"triadE5",{get:function(){return n.create([4,0,1,3][this.value%4],this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"group6",{get:function(){return L.create((13-this.value)%12,this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"group6E5",{get:function(){return n.create((e=[2,0,1,3,4,2],(t=0===(t=this.value)?12:t)<7?e[t-1]:e[12-t]),this._config);var t,e},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"punishing",{get:function(){return L.create([3,10,5,0,4,8,6,1,2,9,7,11][this.value],this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"punishBy",{get:function(){return L.create([3,7,8,0,4,2,6,10,5,9,1,11][this.value],this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"conflict",{get:function(){return L.create((this.value+6)%12,this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"destroying",{get:function(){return L.create([9,4,11,6,1,8,3,10,5,0,7,2][this.value],this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"harming",{get:function(){var t=7<this.value?19-this.value:7-this.value;return L.create(t,this._config)},enumerable:!1,configurable:!0}),L.prototype.toString=function(){return this.name},L.prototype.valueOf=function(){return this.value},L.instances=new Map,e([S("branch:hiddenStems")],L.prototype,"hiddenStems",null),e([S("branch:e5")],L.prototype,"e5",null),e([S("branch:punishing")],L.prototype,"punishing",null),e([S("branch:punishBy")],L.prototype,"punishBy",null),e([S("branch:conflict")],L.prototype,"conflict",null),e([S("branch:destroying")],L.prototype,"destroying",null),e([S("branch:harming")],L.prototype,"harming",null);var rt,at,w=L,T=(t(P,rt=nt),P.getNames=function(t){return t=t||b.lang,s([],b.locales[t].stems,!0)},P.create=function(t,e){var n;return t instanceof P?t:(n=(null==e?void 0:e.lang)||b.lang,t=r(t,"stem",n,b),n="".concat(t,":").concat(n),P.instances.has(n)?P.instances.get(n):(t=new P(t,e),P.instances.set(n,t),t))},Object.defineProperty(P.prototype,"name",{get:function(){return b.locales[this._config.lang].stems[this.value]},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"branchs",{get:function(){var n=this;return b.locales[this._config.lang].branchs.filter(function(t,e){return e%2==n.value%2}).map(function(t){return w.create(t,n._config)})},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"e5",{get:function(){return n.create(Math.floor(this.value/2),this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"trigram8",{get:function(){return o.create([7,0,4,3,2,5,1,5,7,0][this.value],this._config)},enumerable:!1,configurable:!0}),P.prototype.toString=function(){return this.name},P.prototype.valueOf=function(){return this.value},P.instances=new Map,e([S("stem:branchs")],P.prototype,"branchs",null),e([S("stem:e5")],P.prototype,"e5",null),P),D=(Y.getNames=function(t){t=t||b.lang;var r=b.locales[t];return new Array(60).fill("").map(function(t,e){var n;return r.stems[e%10]+(null!=(n=null==r?void 0:r.stemBranchSeparator)?n:"")+r.branchs[e%12]})},Y.create=function(t,e){var n;return t instanceof Y?t:(n=(null==e?void 0:e.lang)||b.lang,n="".concat(t,":").concat(n),Y.instances.has(n)?Y.instances.get(n):(t=new Y(t,void 0,e),Y.instances.set(n,t),t))},Object.defineProperty(Y.prototype,"missing",{get:function(){var t=2*(5-Math.floor(this.value/10));return[w.create(t,this._config),w.create(1+t,this._config)]},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"name",{get:function(){var t=b.locales[this._config.lang];return"".concat(this.stem).concat(null!=(t=null==t?void 0:t.stemBranchSeparator)?t:"").concat(this.branch)},enumerable:!1,configurable:!0}),Y.prototype.toString=function(){return this.name},Y.prototype.valueOf=function(){return this.value},Y.instances=new Map,Y),ot=(j.prototype.getConfig=function(){return Object.assign({},this._config)},Object.defineProperty(j.prototype,"list",{get:function(){return this._list},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"year",{get:function(){return this._list[0]},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"month",{get:function(){return this._list[1]},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"day",{get:function(){return this._list[2]},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"hour",{get:function(){return this._list[3]},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"me",{get:function(){return this._list[2].stem},enumerable:!1,configurable:!0}),j.computeValue=function(t){for(var e=0,n=0;n<4;n++)e+=t[n].valueOf()*Math.pow(10,2*(3-n));return e},j.computeSBYear=function(t,e){var n,r=(e&&void 0!==e.changeAgeTerm?e:b).changeAgeTerm,a=e&&e.isUTC,o="number"!=typeof t?g(t,"FullYear",a):t;return null!=r&&"number"!=typeof t?(n=(r%=24)<0,r=0<=r?r:24+r,a=g(t,"FullYear",a),n&&a--,n=a+1,a=i.findDate(a,r),n=i.findDate(n,r),a=O("".concat(a[0],"-").concat(a[1],"-").concat(a[2]-1," 23:00:00")),n=O("".concat(n[0],"-").concat(n[1],"-").concat(n[2]-1," 23:00:00")),t.valueOf()<a.valueOf()?o--:t.valueOf()>=n.valueOf()&&o++):null===r&&"number"!=typeof t&&(a=et.getLunarNewYearDay(o),t.valueOf()<a.valueOf()-36e5)&&o--,new D((o-4)%10,(o-4)%12,e)},j.computeSBMonth=function(t,e){var n=(e&&void 0!==e.lang?e:b).lang,r=(e&&void 0!==e.changeAgeTerm?e:b).changeAgeTerm,e=null!=(e=null==e?void 0:e.isUTC)&&e,r=i.findNode(t,{isUTC:e,lang:n,returnValue:!0,nodeFlag:((r||0)+24)%2}),a=r[0],t=F(t,a,r[1],e);return new D(t,void 0,{lang:n})},j.computeSBDay=function(t,e){var n=(null==e?void 0:e.isUTC)||!1,r=(null==e?void 0:e.offset)||0,n=n?t.valueOf()-60*r*1e3:t.valueOf(),r=O("".concat(a[0],"-").concat(a[1],"-").concat(a[2]-1," 23:00:00")),t=Math.floor((n-r.valueOf())/864e5)%60;return t<0&&(t+=60),new D(t,void 0,e)},j.computeSBHour=function(t,e,n){var r=(null==n?void 0:n.isUTC)||!1;e=e||j.computeSBDay(t,n);t=(g(t,"Hours",r)+1>>1)%12,r=(e.stem.value%5*2+t)%10;return new D(r,t,n)},j.prototype.toString=function(){return"".concat(this.year," ").concat(this.month," ").concat(this.day," ").concat(this.hour)},j.prototype.valueOf=function(){return this.value},j);function j(t,e){if(this.value=-1,this._config={changeAgeTerm:b.changeAgeTerm,isUTC:!1,lang:b.lang,offset:0},e&&(this._config=Object.assign({},this._config,e)),t instanceof Date&&(t=[j.computeSBYear(t,this._config),j.computeSBMonth(t,this._config),e=j.computeSBDay(t,this._config),j.computeSBHour(t,e,this._config)]),!Array.isArray(t))throw new Error("Invalid Char8");this._list=t,this.value=j.computeValue(t)}function Y(t,e,n){if(this.value=-1,this._config={lang:b.lang},n&&(this._config=Object.assign({},this._config,n)),"number"==typeof e||"string"==typeof e||e instanceof w){this.stem=T.create(t,this._config),this.branch=w.create(e,this._config);var r=this.stem.valueOf(),a=this.branch.valueOf();this.value=((t,e)=>{if((t+e)%2!=0)throw new Error("Invalid SB value");return t%10+(6-(e>>1)+(t>>1))%6*10})(r,a)}else{if("number"!=typeof t)throw new Error("Invalid SB value");this.value=t%60,r=this.value%10,a=this.value%12,this.stem=T.create(r,this._config),this.branch=w.create(a,this._config)}}function P(t,e){var n=rt.call(this)||this;return n.value=-1,n._config={lang:b.lang},t instanceof P?t:(e&&(n._config=Object.assign({},n._config,e)),n.value=r(t,"stem",n._config.lang,b),n)}function L(t,e){var n=at.call(this)||this;return n.value=-1,n._config={lang:b.lang},t instanceof L?t:(e&&(n._config=Object.assign({},n._config,e)),n.value=r(t,"branch",n._config.lang,b),n)}function it(t,e,n){for(var r in t){var a=t[r],o=[];if(Array.isArray(a))for(var i=0,c=a;i<c.length;i++){var s=c[i];o.push(ct(s,n))}else o.push(ct(a,n));e.has(r)?e.set(r,(e.get(r)||[]).concat(o)):e.set(r,o)}}function ct(t,e){var n=t.tag,r={tag:[],name:t.name};return Array.isArray(n)?r.tag=n.slice():"string"==typeof n&&r.tag.push(n),Array.isArray(e)?r.tag=r.tag.concat(e):"string"==typeof e&&r.tag.push(e),void 0!==t.data&&(r.data=Object.assign({},t.data)),r}function st(t,n,r){return void 0===r&&(r=!1),t.filter(function(t){var e;return r?(e=Array.isArray(n)?n:[n],!gt(t.tag,e)):Array.isArray(n)?!n.includes(t.name):n!==t.name})}function ut(r,t,a,e){void 0===a&&(a=!0);function n(t,e){var n;r.has(t)&&void 0!==(n=r.get(t))&&(void 0===e||0===(e=st(n,e,a)).length?r.delete(t):e.length<n.length&&r.set(t,e))}if(void 0===e)for(var o=0,i=Array.from(r.keys());o<i.length;o++)n(i[o],t);else if(Array.isArray(e))for(var c=0,s=e;c<s.length;c++)n(s[c],t);else n(e,t)}function lt(t,e,n){var r=t,a=e,o=n=void 0===n||n;void 0===n&&(o=!0);for(var i=r.formatList,c=r.formatMap,s=[],u=0,l=i;u<l.length;u++){var f=l[u];ft(c,f,a,o)&&s.push(f)}s.length!==i.length&&(r.formatList=s),ht(t,e,n)}function ft(t,e,n,r,a){if(void 0===r&&(r=!0),t.has(e)){var o=t.get(e);if(void 0===o)return;if(ut(o,n,r,a),0!==o.size)return 1;t.delete(e)}}function ht(t,e,n,r){void 0===n&&(n=!0);for(var a=t.fnList,o=[],i=0,c=a;i<c.length;i++){var s=c[i],u=s.fn,s=s.markers;ut(s,e,n,r),0<s.size&&o.push({fn:u,markers:s})}o.length!==a.length&&(t.fnList=o)}function gt(t,e){for(var n=0;n<e.length;n++)if(t.includes(e[n]))return 1}function pt(t,e){for(var n in t){var r=t[n],a=e[n];if("tag"===n){if(Array.isArray(r)){if(!Array.isArray(a))return!1;if(!gt(r,a))return!1}else if(Array.isArray(a)&&!a.includes(r))return!1}else if("object"==typeof r&&"object"==typeof a){if(!pt(r,a))return!1}else if(r!==a)return!1}return!0}function yt(t){var e="direction24List:".concat(t=void 0===t?"zh":t);return Mt.has(e)?Mt.get(e):(t=[w.create(0,t={lang:t}),T.create(9,t),w.create(1,t),o.create(4,t),w.create(2,t),T.create(0,t),w.create(3,t),T.create(1,t),w.create(4,t),o.create(6,t),w.create(5,t),T.create(2,t),w.create(6,t),T.create(3,t),w.create(7,t),o.create(0,t),w.create(8,t),T.create(6,t),w.create(9,t),T.create(7,t),w.create(10,t),o.create(7,t),w.create(11,t),T.create(8,t)],Mt.set(e,t),t)}U.add=function(t,e){for(var n=U.store,r=e,a=0,o=t;a<o.length;a++){var i,c=o[a],s=c.format,c=c.markers;"string"==typeof s?(i=void 0,n.formatMap.has(s)?i=n.formatMap.get(s):n.formatList.push(s),it(c,i=void 0===i?new Map:i,r),n.formatMap.set(s,i)):"function"==typeof s&&(it(c,i=new Map,r),n.fnList.push({fn:s,markers:i}))}return U},U.clean=function(){return U.store.formatList=[],U.store.formatMap=new Map,U.store.fnList=[],U},U.cleanFnList=function(){return U.store.fnList=[],U},U.remove=function(t,e,n){return r=U.store,e=e,n=n,!0===(a=t)?ht(r,n,!1,e):(t=r.formatList,ft(o=r.formatMap,a,n,!1,e),o.has(a)||(r.formatList=t.filter(function(t,e){return t!==a}))),U;var r,a,o},U.removeByTag=function(t){return lt(U.store,t,!0),U},U.removeByName=function(t){return lt(U.store,t,!1),U},U.prototype.init=function(){for(var t,e,n=[],r=U.store,a=0,o=r.formatList;a<o.length;a++){var i=o[a],c=(c=r,e=i,i=this.lsr.format(i),!(c=c.formatMap).has(e)||void 0===(c=c.get(e))||!c.has(i)||void 0===(e=c.get(i))?null:e);c&&n.push(c)}(t=this.storeMarkersFromGlobal).splice.apply(t,s([0,this.storeMarkersFromGlobal.length],n.flat(),!1))},U.prototype.add=function(t,e){if(this._list=null,Array.isArray(t))for(var n=0,r=t;n<r.length;n++){var a=r[n];this.add(a,e)}else{t=ct(t,e);this.storeMarkers.push(t)}return this},U.prototype.remove=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=0),this._list=null,0!==n&&1!==n||(this.storeMarkersFromGlobal=st(this.storeMarkersFromGlobal,t,e)),0!==n&&2!==n||(this.storeMarkers=st(this.storeMarkers,t,e)),this},U.prototype.clean=function(t){return void 0===t&&(t=0),this._list=null,0!==t&&1!==t||(this.storeMarkersFromGlobal=[]),0!==t&&2!==t||(this.storeMarkers=[]),this},U.prototype.reset=function(){return this._list=null,this.clean(0),this.init(),this},U.prototype[Symbol.iterator]=function(){var t=0,e=this.list;return{next:function(){return t<e.length?{value:e[t++],done:!1}:{value:void 0,done:!0}}}},Object.defineProperty(U.prototype,"list",{get:function(){return null==this._list&&(this._list=s(s([],this.storeMarkersFromGlobal,!0),this.storeMarkers,!0)),this._list},enumerable:!1,configurable:!0}),U.prototype.filter=function(e){return"function"==typeof e?this.list.filter(e):"object"==typeof e?this.list.filter(function(t){return pt(e,t)}):[]},U.prototype.find=function(e){return"function"==typeof e?this.list.find(e):"object"==typeof e?this.list.find(function(t){return pt(e,t)}):void 0},U.prototype.toString=function(){return this.list.map(function(t){return t.name}).join(",")},U.store={formatList:[],formatMap:new Map,fnList:[]};var mt,dt=U,C=(t(A,mt=nt),Object.defineProperty(A.prototype,"lunisolar",{get:function(){return H},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"year",{get:function(){return g(this._date,"FullYear",this.isUTC())},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"month",{get:function(){return g(this._date,"Month",this.isUTC())+1},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"day",{get:function(){return g(this._date,"Date",this.isUTC())},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"dayOfWeek",{get:function(){return g(this._date,"Day",this.isUTC())},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"hour",{get:function(){return g(this._date,"Hours",this.isUTC())},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"minute",{get:function(){return g(this._date,"Minutes",this.isUTC())},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"second",{get:function(){return g(this._date,"Seconds",this.isUTC())},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"millis",{get:function(){return g(this._date,"Milliseconds",this.isUTC())},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"lunar",{get:function(){return new et(this._date,{lang:this._config.lang,isUTC:this.isUTC()})},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"char8",{get:function(){var t={lang:this._config.lang,changeAgeTerm:this._config.changeAgeTerm,isUTC:this.isUTC(),offset:this._offset};return new ot(this._date,t)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"markers",{get:function(){return new dt(this)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"solarTerm",{get:function(){var t=this.year;if(t<v||_<t)throw new Error("".concat(t,"  is not in the allowed time range."));var e=this.month,n=this.day,t=i.getMonthTerms(t,e),r=t[0],t=t[1],a={lang:this._config.lang};return n===r?new i(2*(e-1),a):n===t?new i(2*(e-1)+1,a):null},enumerable:!1,configurable:!0}),A.prototype.recentSolarTerm=function(t){return i.findNode(this._date,{lang:this._config.lang,nodeFlag:t,returnValue:!1})},A.prototype.getMonthBuilder=function(t){void 0===t&&(t=0);var e={lang:this.getConfig("lang")},t=this.recentSolarTerm(t),n=t[0],t=t[1],r=F(this.toDate(),n.value,t);return[new D(r,void 0,e),n,t]},A.prototype.getSeasonIndex=function(){var t=this.recentSolarTerm(0)[0].value;return 2<=t&&t<8?0:8<=t&&t<14?1:14<=t&&t<20?2:3},A.prototype.getSeason=function(t){void 0===t&&(t=!1);var e=this.getSeasonIndex(),n=this.getLocale();return(t&&n.seasonShortName?n.seasonShortName:n.seasonName)[e]},A.prototype.getLocale=function(t){return b.locales[null!=t?t:this._config.lang]},A.prototype.L=function(t){for(var e=this.getLocale(),n=t.split("."),r=e,a=t;0<=n.length&&("string"!=typeof(o=r)&&"number"!=typeof o&&"function"!=typeof o||(a=o,0))&&0!==n.length;){var o=n.shift();if(void 0===o)return"";if(Array.isArray(r)){var i=Number(o);if(isNaN(i)||i>=r.length)return"";r=r[i],a=r}else{if(!r.hasOwnProperty(o))return n[n.length-1]||o;r=r[o]}}return a},A.prototype.getConfig=function(t){return void 0===t?this._config:(this._config[t],this._config[t])},A.prototype.toDate=function(){return new Date(this.valueOf())},A.prototype.clone=function(){return new A(this.valueOf(),this._config)},A.prototype.unix=function(){return Math.floor(this.valueOf()/1e3)},A.prototype.valueOf=function(){return this._date.valueOf()-60*this._offset*1e3},A.prototype.local=function(){var t=Object.assign({},this._config,{isUTC:!1,offset:0});return new A(this.toDate(),t)},A.prototype.utc=function(){return this.utcOffset(-this._offset)},A.prototype.isUTC=function(){return this._config.isUTC},A.prototype.utcOffset=function(t){var e;return void 0===t?this.isUTC()?this._offset:(e=this._date,15*-Math.round(e.getTimezoneOffset()/15)):(e=Object.assign({},this._config,{isUTC:!0,offset:Math.abs(t)<=16?60*t:t}),new A(this._date,e))},A.prototype.toISOString=function(){return this._date.toISOString()},A.prototype.toUTCString=function(){return this._date.toUTCString()},A.prototype.toString=function(){return this._date.toUTCString()+" (".concat(this.lunar,")")+" utcOffset: ".concat(this.utcOffset())},A.prototype.format=function(t){return t=t,(e=this).toUTCString()===Z?Z:(t=t||"YYYY-MM-DDTHH:mm:ssZ",n=e.year,r=e.month,a=e.day,o=e.dayOfWeek,i=e.hour,c=e.minute,s=e.second,l=-e.utcOffset(),h=Math.abs(l),f=Math.floor(h/60),h=h%60,u="".concat(l<=0?"+":"-").concat(String(f).padStart(2,"0"),":").concat(String(h).padStart(2,"0")),l=e.lunar,f=e.char8,g=(h=b.locales[e._config.lang]).weekdays,p=h.months,y=function(t,e,n,r){return t&&t[e]||(n?n[e].slice(0,r):"")},m=i%12||12,d=h.meridiem||function(t,e,n){t=t<12?"AM":"PM";return n?t.toLowerCase():t},v={YY:String(n).slice(-2),YYYY:String(n),M:String(r),MM:String(r).padStart(2,"0"),MMM:y(h.monthsShort,r-1,p,3),MMMM:y(p,r-1),D:String(a),DD:String(a).padStart(2,"0"),d:String(o),dd:y(h.weekdaysMin,o,g,2),ddd:y(h.weekdaysShort,o,g,3),dddd:g[o],H:String(i),HH:String(i).padStart(2,"0"),h:String(m),hh:String(m).padStart(2,"0"),a:d(i,c,!0),A:d(i,c,!1),m:String(c),mm:String(c).padStart(2,"0"),s:String(s),ss:String(s).padStart(2,"0"),SSS:String(e.millis).padStart(3,"0"),Z:u,cZ:h.chineseZodiac[f.year.branch.value],t:e.solarTerm?String(e.solarTerm.value+1):"",T:e.solarTerm?e.solarTerm.toString():"",lY:l.getYearName(),lM:l.getMonthName(),lD:l.getDayName(),lH:l.getHourName(),lL:l.isBigMonth?h.bigMonth:h.smallMonth,lYn:String(l.year),lMn:String(l.month),lDn:String(l.day),lHn:String(l.hour+1),cY:f.year.toString(),cYs:f.year.stem.toString(),cYb:f.year.branch.toString(),cM:f.month.toString(),cMs:f.month.stem.toString(),cMb:f.month.branch.toString(),cD:f.day.toString(),cDs:f.day.stem.toString(),cDb:f.day.branch.toString(),cH:f.hour.toString(),cHs:f.hour.stem.toString(),cHb:f.hour.branch.toString(),cYn:f.year.value,cYsn:f.year.stem.value,cYbn:f.year.branch.value,cMn:f.month.value,cMsn:f.month.stem.value,cMbn:f.month.branch.value,cDn:f.day.value,cDsn:f.day.stem.value,cDbn:f.day.branch.value,cHn:f.hour.value,cHsn:f.hour.stem.value,cHbn:f.hour.branch.value,dR:function(){return String(Math.ceil(a/7))},dRr:function(){var t=e.lunisolar("".concat(n,"-").concat(r+1,"-1 ").concat(i,":").concat(c,":").concat(s),e._config),t=Math.abs(t.diff(e,"day"));return String(Math.ceil(t/7))}},t.replace(R,function(t,e){t=v[t];return e||("function"==typeof t?t():void 0!==t?t:u.replace(":",""))}));var e,n,r,a,o,i,c,s,u,l,f,h,g,p,y,m,d,v},A.prototype.diff=function(t,e,n){return void 0===n&&(n=!1),e=e?l(e):"millisecond",z.has(e)?(r=this,a=t instanceof A?t:new A(t,this._config),o=e,i=n,c=[(c=[r.lunar,a.lunar])[0].year,c[1].year],s=c[0],c=c[1],u=a.valueOf()-r.valueOf(),(o=l(o))===h.ly?(c=c-s,i?c-1+E(r,!0)+E(a,!1):c):o===h.lM?I(r,a,i):(o===h.ld?u/=864e5:o===h.lh&&(u/=72e5),i?u:Math.ceil(u))):(s=this._date,c=t,r=e,a=n,s=(o=[O(s),O(c)])[0],o=(c=o[1]).valueOf()-s.valueOf(),r=r?l(r):"millisecond",i=o,h.s===r?i=o/1e3:h.m===r?i=o/6e4:h.h===r?i=o/36e5:h.d===r?i=o/864e5:h.w===r?i=o/6048e5:h.M===r?i=f(s,c):h.y===r?i=f(s,c)/12:h.q===r&&(i=f(s,c)/3),a?i:parseInt(String(i)));var r,a,o,i,c,s,u},A.prototype.add=function(t,e){return new A(((t,e,n)=>{var r=(t=O(t)).getFullYear(),a=t.getMonth()+1,o=e;if((n=n?l(n):"millisecond")===h.d||n===h.ld)o=24*e*60*60*1e3;else if(n===h.h)o=60*e*60*1e3;else if(n===h.m)o=60*e*1e3;else if(n===h.s)o=1e3*e;else{if(n===h.M)return new Date(t.setMonth(a-1+e));if(n===h.y)return new Date(t.setFullYear(r+e))}return new Date(t.valueOf()+o)})(this.toDate(),t,e),this.getConfig())},e([S("lunisolar:lunar")],A.prototype,"lunar",null),e([S("lunisolar:char8")],A.prototype,"char8",null),e([S("lunisolar:markers")],A.prototype,"markers",null),e([S("lunisolar:solarTerm")],A.prototype,"solarTerm",null),e([S("lunisolar:recentSolarTerm",!0)],A.prototype,"recentSolarTerm",null),e([S("lunisolar:getMonthBuilder",!0)],A.prototype,"getMonthBuilder",null),A),vt=[5,7,11,13,-1,-2,17,19,23,1],bt=[4,6,0,7],_t=[1,1,8,8,8,3,3,3,4,4,4,9,9,9,2,2,2,7,7,7,6,6,6,1],Mt=new Map;function A(t,e){var n=mt.call(this)||this,e=(n._config=Object.assign({extra:{}},b,e),n._config),r=e.isUTC,e=e.offset,r=O(t,r),t=(0!==e&&r.setMinutes(r.getMinutes()+e),-1*O(t).getTimezoneOffset());return n._config.extra.localTimezoneOffset=t,n._date=r,n._offset=e,n}function U(t){this._list=null,this.storeMarkers=[],this.storeMarkersFromGlobal=[],this.lsr=t,this.init()}function Ot(t){if("number"!=typeof t){var e=t.constructor.name,n=t.value;if("Stem"===e)t=vt[n];else if("Branch"===e)t=2*n;else{if("Trigram8"!==e)throw new Error("Invalid direction24 value");e=bt.indexOf(n);if(-1===e)throw new Error("Invalid direction24 value");t=3*(2*e+1)}}return t}N.create=function(t,e){var t=Ot(t),n=(null==e?void 0:e.lang)||"zh",n="".concat(t,":").concat(n);return N.instances.has(n)?N.instances.get(n):(t=new N(t,e),N.instances.set(n,t),t)},N.createFromAngle=function(t,e){t=Math.round(t%360/15);return N.create(t,e)},N.getNames=function(t){return t=t||b.lang,yt(t).map(function(t){return t.name})},Object.defineProperty(N.prototype,"sign",{get:function(){return this._sign},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"name",{get:function(){return this._sign.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"type",{get:function(){return this._sign.constructor.name},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"angle",{get:function(){return 0<this.value?15*this.value:NaN},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"direction",{get:function(){return b.locales[this._config.lang].directions[this.directionIndex]},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"directionIndex",{get:function(){return this.value<0?5:_t[this.value]},enumerable:!1,configurable:!0}),N.prototype.toString=function(){return this._sign.toString()},N.prototype.valueOf=function(){return this.value},N.instances=new Map;var St=N;function N(t,e){this._config={lang:b.lang};var t=Ot(t),n=(this.value=t,(null==e?void 0:e.lang)||b.lang),n=yt(n);this._sign=-1===t?T.create(4,e):n[t%24]}function H(t,e){return new C(t,e)}return H.utc=function(t,e){return new C(t,Object.assign({},e,{isUTC:!0}))},H.Lunar=et,H.SolarTerm=i,H.Char8=ot,H.SB=D,H.Stem=T,H.Branch=w,H.Element5=n,H.Lunisolar=C,H.Trigram8=o,H.Direction24=St,H.fromLunar=function(t,e){t=B(t,null==e?void 0:e.lang);return new C(t,e)},H.config=function(t){return t&&Object.assign(b,t),H},H.extend=function(t,e){return t.$once||(t(e,C,H),t.$once=!0),H},H.locale=function(t,e){if(void 0===e&&(e=!1),Array.isArray(t))for(var n=0,r=t;n<r.length;n++){var a=r[n];H.locale(a,e)}else t&&t.name&&(b.locales[t.name]=Object.assign({},b.locales[t.name],q,t),e||(b.lang=t.name),e)&&"zh"!==b.lang&&(b.locales[b.lang]=Object.assign({},b.locales.zh,b.locales[b.lang]));return H},H.getLocale=function(t){return b.locales[t]},H.defineLocale=function(t){return t},H.Markers=dt,H._globalConfig=b,Object.defineProperty(H,"_globalConfig",{writable:!1}),H});